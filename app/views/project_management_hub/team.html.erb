<h1 class="display-4 mb-4">
  Project Management Hub: <%= @project.name %>
</h1>

<h2 class="h5">Team Members</h2>
<ul class="list-group mb-4">
  <% @project.users.each do |member| %>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>
        <%= member.email || member.username || member.id %> <!-- Adjust identifier based on your User model -->
      </span>
      <%= button_to "Remove", remove_student_from_project_path(@project, user_id: member.id), 
          method: :delete, 
          class: "btn btn-danger btn-sm", 
          data: { confirm: "Are you sure you want to remove #{member.email || member.username || member.id}?" } %>
    </li>
  <% end %>
</ul>

<h3 class="h5">Add a Student to the Team</h3>
<%= form_with url: add_student_to_project_path(@project), method: :post, local: true do |f| %>
  <div class="form-group mb-3">
    <%= label_tag :user_id, "Select Student", class: "form-label" %>
    <%= select_tag :user_id, options_from_collection_for_select(User.where(role: :student), :id, :email || :username), 
        class: "form-select", 
        prompt: "Choose a student" %>
  </div>
  <%= f.submit "Add Student", class: "btn btn-primary" %>
<% end %>

<!-- Flash messages -->
<% flash.each do |key, message| %>
  <div class="alert alert-<%= key %> mt-3">
    <%= message %>
  </div>
<% end %>
